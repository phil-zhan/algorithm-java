# <font color="red">**根据数据状况猜解法（续）、以及分治**</font>




### 根据数据状况猜解法（续）、以及分治
面试中的分治的应用场景：
1，数据量整体做尝试可能性太多了，跑不完
2，数据分成多个块（常见是两块）之后，各自的可能性并不算多
3，合并多个块各自信息的整合过程不复杂



### 题目一
**Code01**
```text
给定一个非负数组arr，和一个正数m。 
返回arr的所有子序列中累加和%m之后的最大值。

```




### 题目二
**Code02**
```text
牛牛家里一共有n袋零食, 第i袋零食体积为v[i]，背包容量为w。
牛牛想知道在总体积不超过背包容量的情况下,
一共有多少种零食放法，体积为0也算一种放法
1 <= n <= 30, 1 <= w <= 2 * 10^9
v[i] (0 <= v[i] <= 10^9）


暴力解：第 i 号零食要或不要。去凑 j 的量。但是本题，n最大会去到 30 。2^30大于了10^8. 故，本题采用分治去处理。

分治处理：
    左侧的15个会产生的所有零食的体积的累加和【能累做出一张累加表。累加和为1的有多少种，累加和为2的有多少，依次类推，累加和为n的有多少】
    也就是 2^15次方以内。
    两边完成后，再整合。
整合的时候：
    货物可能【最后的答案，就是这三种情况的总和】
        只来自左侧
        只来自右侧
        既来自左侧，也来自右侧。【左侧的累加和如果为 k，那么就找出右侧累加和 小于等于 bag-k的种数，然后相乘。便是当前的整合情况】【也就是让右侧去适配左侧】
        【左侧严格取等于，右侧取小于等于】【避免重复】
```



### 卡特兰数
```text
卡特兰数又称卡塔兰数，英文名Catalan number，是组合数学中一个常出现在各种计数问题中出现的数列。其前几项为：
1, 1, 2, 5, 14, 42, 132, 429, 1430, 4862, 16796, 58786, 208012, 742900, 2674440, 9694845, 
35357670, 129644790, 477638700, 1767263190, 6564120420, 
24466267020, 91482563640, 343059613650, 1289904147324, 4861946401452, ...

k(0) = 1, k(1) = 1时，如果接下来的项满足：
k(n) = k(0) * k(n - 1) + k(1) * k(n - 2) + ... + k(n - 2) * k(1) + k(n - 1) * k(0)  【双向收拢】
或者
k(n) = c(2n, n) - c(2n, n-1)   
或者
k(n) = c(2n, n) / (n + 1)       【这里的C是排列】
就说这个表达式，满足卡特兰数，常用的是范式1和2，3几乎不会使用到

```




### 题目三
```markdown
假设给你N个0，和N个1，你必须用全部数字拼序列

返回有多少个序列满足：任何前缀串，1的数量都不少于0的数量
【可以理解为括号配对，任何前缀串，左括号的数量都不能少于（>=）右括号的数量】

k(n) = c(2n, n) - c(2n, n-1)   【这里的C是排列】【一共2n个位置，选n个位置放左括号】

不合法（不匹配）：存在最前的一个最短的前缀，导致其右括号数量比左括号数量多一个
将这个最短前缀划分到 A 集合。将最短集合的后面剩下的一部分反转，反转之后，将完整的字符串（包块最短前缀）划分为 B 集合。
此时，在B集合中，右括号的数量就比左括号的数量多两个。。B集合经过上面的反向过程，也能映射到集合A。
也就是集合A的元素能映射到集合B。反之，集合B的元素也能映射到A。
`两个集合能相互一对一映射，那么两个集合的数量相等【数学问题】`

不合法的数量：一共是2n个位置。选n+1个放右括号，选n-1个放左括号。就是所有不合法的数量。C(2n,n+1)=C(2n,n-1)
所以，合法的数量也就是 k(n) = c(2n, n) - c(2n, n-1)
```



### 题目四
```markdown
有N个二叉树节点，每个节点彼此之间无任何差别【节点无差别，只有结构不同，才算不同】

返回由N个二叉树节点，组成的不同结构数量是多少？

左节点的数量从0到n-1.右节点的数量从n-1到0.任何一种情况下，左边所能组成的树 种数乘以 右边数所能组成的树 种数。满足公式一。【卡特兰数】
直接利用 k(n) = c(2n, n) - c(2n, n-1)公式计算结果

```


### 卡特兰数的算法原型在做题时怎么发现？
```markdown
1）如果像题目一一样，这个太明显了，你一定能发现

2）看看题目是不是类题目二问题，比如：

人员站队问题
出栈入栈问题【任何时候，出栈的数量不能多余进栈的数量，卡特兰数】

需要敏感度！
```



### 需要记住
```markdown
公式要记住！
括号合法模型要记住！
瞒住公式1。也是卡特兰数。直接利用公式2求解
```



